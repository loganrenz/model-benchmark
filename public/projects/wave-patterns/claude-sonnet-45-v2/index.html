<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wave Pattern Generator</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    body {
      background: radial-gradient(circle, #1a1a2e, #0a0a0a);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    canvas {
      box-shadow: 0 0 80px rgba(255, 100, 200, 0.3);
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    const WIDTH = 800;
    const HEIGHT = 600;
    canvas.width = WIDTH;
    canvas.height = HEIGHT;
    
    // Create 5 wave sources in pentagon pattern
    const centerX = WIDTH / 2;
    const centerY = HEIGHT / 2;
    const radius = 180;
    
    const waveOrigins = [];
    for (let i = 0; i < 5; i++) {
      const angle = (i / 5) * Math.PI * 2 - Math.PI / 2;
      waveOrigins.push({
        x: centerX + Math.cos(angle) * radius,
        y: centerY + Math.sin(angle) * radius,
        speed: 1.8 + i * 0.1,
        offset: (i * Math.PI * 2) / 5
      });
    }
    
    let frame = 0;
    
    function computeWaveField(x, y, time) {
      let amplitude = 0;
      
      for (const origin of waveOrigins) {
        const dx = x - origin.x;
        const dy = y - origin.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        
        const waveVal = Math.sin(
          (dist / 30) - (time * origin.speed / 10) + origin.offset
        );
        
        amplitude += waveVal;
      }
      
      return amplitude / waveOrigins.length;
    }
    
    function drawFrame() {
      const imgData = ctx.createImageData(WIDTH, HEIGHT);
      const data = imgData.data;
      
      // Sample resolution - skip pixels for performance
      const step = 2;
      
      for (let y = 0; y < HEIGHT; y += step) {
        for (let x = 0; x < WIDTH; x += step) {
          const wave = computeWaveField(x, y, frame);
          
          // Normalize to 0-1
          const normalized = (wave + 1) * 0.5;
          
          // Create RGB based on wave intensity
          let r, g, b;
          
          if (normalized > 0.75) {
            // Bright yellow/white peaks
            const t = (normalized - 0.75) * 4;
            r = 255;
            g = 255;
            b = 100 + t * 155;
          } else if (normalized > 0.5) {
            // Orange/red
            const t = (normalized - 0.5) * 4;
            r = 255;
            g = 100 + t * 155;
            b = 50;
          } else if (normalized > 0.25) {
            // Purple/magenta
            const t = (normalized - 0.25) * 4;
            r = 150 + t * 105;
            g = 50;
            b = 200 + t * 55;
          } else {
            // Deep blue/black
            const t = normalized * 4;
            r = 10;
            g = 10 + t * 40;
            b = 50 + t * 100;
          }
          
          // Fill the step area with the same color
          for (let dy = 0; dy < step && y + dy < HEIGHT; dy++) {
            for (let dx = 0; dx < step && x + dx < WIDTH; dx++) {
              const idx = ((y + dy) * WIDTH + (x + dx)) * 4;
              data[idx] = r;
              data[idx + 1] = g;
              data[idx + 2] = b;
              data[idx + 3] = 255;
            }
          }
        }
      }
      
      ctx.putImageData(imgData, 0, 0);
      
      // Draw wave origin markers
      waveOrigins.forEach((origin, idx) => {
        // Pulsing circle
        const pulsePhase = frame * 0.15 + origin.offset;
        const pulseSize = 3 + Math.abs(Math.sin(pulsePhase)) * 4;
        
        ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
        ctx.beginPath();
        ctx.arc(origin.x, origin.y, pulseSize, 0, Math.PI * 2);
        ctx.fill();
        
        // Outer glow
        const glowGrad = ctx.createRadialGradient(
          origin.x, origin.y, 0,
          origin.x, origin.y, 15
        );
        glowGrad.addColorStop(0, 'rgba(255, 255, 255, 0.5)');
        glowGrad.addColorStop(1, 'rgba(255, 255, 255, 0)');
        
        ctx.fillStyle = glowGrad;
        ctx.beginPath();
        ctx.arc(origin.x, origin.y, 15, 0, Math.PI * 2);
        ctx.fill();
      });
    }
    
    function animate() {
      frame += 1;
      drawFrame();
      requestAnimationFrame(animate);
    }
    
    animate();
  </script>
</body>
</html>
